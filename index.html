<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sweeps Snapshot Pro</title>
<script src="https://cdn.tailwindcss.com"></script>

<style>
html,body{
  margin:0;
  padding:0;
  background:#0f172a;
  color:#e5e7eb;
  font-family:sans-serif;
}

.machine{
  box-shadow:0 0 40px rgba(0,255,0,0.15);
}

.reel-container{
  width:100px;
  height:100px;
  overflow:hidden;
  border:3px solid #1f2937;
  border-radius:10px;
  background:#111827;
  position:relative;
}

@media(min-width:640px){
  .reel-container{
    width:130px;
    height:130px;
  }
}

.reel-strip{
  position:absolute;
  top:0;
  left:0;
  width:100%;
}

.reel-strip img{
  width:100%;
  height:100px;
  object-fit:contain;
  display:block;
}

@media(min-width:640px){
  .reel-strip img{
    height:130px;
  }
}

.win-glow{
  animation:glow 1s ease-in-out infinite alternate;
}

@keyframes glow{
  from{box-shadow:0 0 10px rgba(0,255,0,0.2);}
  to{box-shadow:0 0 25px rgba(0,255,0,0.7);}
}
</style>
</head>

<body>

<section class="min-h-screen flex flex-col items-center justify-center text-center px-4">

<img src="logo.png" class="w-44 sm:w-56 mb-6">

<div class="machine bg-gray-900 p-5 rounded-xl border border-gray-800 w-full max-w-md">
  <div class="flex justify-center gap-4 mb-6">
    <div class="reel-container">
      <div class="reel-strip" id="reel1"></div>
    </div>
    <div class="reel-container">
      <div class="reel-strip" id="reel2"></div>
    </div>
    <div class="reel-container">
      <div class="reel-strip" id="reel3"></div>
    </div>
  </div>

  <button onclick="spinReels()" 
  class="bg-green-600 hover:bg-green-700 px-6 py-2 rounded-lg font-semibold w-full">
  Spin
  </button>
</div>

</section>

<script>

const symbols=["cherry.png","diamond.png","seven.png","logo.png"];
const loops=25;

function buildReel(id){
  const reel=document.getElementById(id);
  reel.innerHTML="";
  for(let i=0;i<loops;i++){
    symbols.forEach(sym=>{
      const img=document.createElement("img");
      img.src=sym;
      reel.appendChild(img);
    });
  }
  // final landing symbol (always logo)
  const final=document.createElement("img");
  final.src="logo.png";
  reel.appendChild(final);
}

function spinSingle(id,delay){
  const reel=document.getElementById(id);
  buildReel(id);

  const containerHeight=reel.parentElement.offsetHeight;
  const totalHeight=reel.scrollHeight-containerHeight;

  reel.style.transition="none";
  reel.style.transform="translateY(0px)";

  setTimeout(()=>{
    reel.style.transition=`transform ${3+delay}s cubic-bezier(.15,.8,.2,1)`;
    reel.style.transform=`translateY(-${totalHeight}px)`;
  },100);

  setTimeout(()=>{
    reel.parentElement.classList.add("win-glow");
  },3000+(delay*1000));
}

function spinReels(){
  document.querySelectorAll(".reel-container").forEach(r=>r.classList.remove("win-glow"));
  spinSingle("reel1",0);
  spinSingle("reel2",0.5);
  spinSingle("reel3",1);
}

buildReel("reel1");
buildReel("reel2");
buildReel("reel3");

</script>

</body>
</html>
